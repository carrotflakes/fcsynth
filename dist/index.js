(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["fcsynth"] = factory();
	else
		root["fcsynth"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/buildNodes.js":
/*!***************************!*\
  !*** ./src/buildNodes.js ***!
  \***************************/
/*! exports provided: build */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"build\", function() { return build; });\n/* harmony import */ var _nodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nodes */ \"./src/nodes/index.js\");\n\n\nfunction build(model, paramIdentifiers) {\n  const node = buildNodes(model, paramIdentifiers);\n  return {\n    allNodes: unique(node.collectNodes()),\n    criticalEnvelopes: unique(node.collectCriticalEnvelopes()),\n    rootNode: node\n  };\n}\n\nfunction buildNodes(model, paramIdentifiers) {\n  const scope = [];\n  for (const paramIdentifier of paramIdentifiers) {\n    scope[paramIdentifier] = {\n      type: 'parameter',\n      name: paramIdentifier\n    };\n  }\n  for (const declaration of model) {\n    const {name, child} = declaration;\n    if (name in scope) {\n      throw new Error(`${name} is declared already`);\n    }\n    scope[name] = buildNode(child, scope);\n  }\n  return scope['@note'];\n}\n\nfunction buildNode(model, scope) {\n  if (Array.isArray(model)) {\n    return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"NodeSet\"](model.map(m => buildNode(m, scope)));\n  }\n  function buildAudioParam(model) {\n    return {\n      envelope: buildNode(model.envelope, scope),\n      modulator: buildNode(model.modulator, scope)\n    };\n  }\n  switch (model.type) {\n    case 'oscillator':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"SimpleOscillator\"](\n        model.waveType,\n        buildAudioParam(model.frequency),\n        model.delay ? buildNode(model.delay, scope) : null);\n    case 'gain':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"Gain\"](\n        buildAudioParam(model.gain),\n        buildNode(model.child, scope));\n    case 'frequency':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"FrequencyEnvelope\"](\n        buildNode(model.frequency, scope));\n    case 'level':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"LevelEnvelope\"](\n        buildNode(model.level, scope));\n    case 'adsrEnvelope':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"AdsrEnvelope\"](\n        buildNode(model.level, scope),\n        buildNode(model.attack, scope),\n        buildNode(model.decay, scope),\n        buildNode(model.sustain, scope),\n        buildNode(model.release, scope));\n    case 'parcEnvelope':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"ParcEnvelope\"](\n        buildNode(model.level, scope),\n        buildNode(model.attack, scope),\n        buildNode(model.release, scope));\n    case 'filter':\n      return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"Filter\"](\n        model.filterType,\n        model.frequency ? buildAudioParam(model.frequency) : null,\n        model.gain ? buildAudioParam(model.gain) : null,\n        model.Q ? buildAudioParam(model.Q) : null,\n        buildNode(model.child, scope));\n    case 'operator':\n      const args = model.args.map(arg => buildNode(arg, scope));\n      if (model.operator === '+' && args.every(n => n instanceof _nodes__WEBPACK_IMPORTED_MODULE_0__[\"Node\"])) {\n        const nodeSet = args.find(n => n instanceof _nodes__WEBPACK_IMPORTED_MODULE_0__[\"NodeSet\"]);\n        if (nodeSet) {\n          nodeSet.nodes.push(...args.filter(n => !(n instanceof _nodes__WEBPACK_IMPORTED_MODULE_0__[\"NodeSet\"])));\n          return nodeSet;\n        } else {\n          return new _nodes__WEBPACK_IMPORTED_MODULE_0__[\"NodeSet\"](args);\n        }\n      }\n      return {\n        type: 'operator',\n        operator: model.operator,\n        args\n      }\n      break;\n    case 'value':\n      return model;\n    case 'identifier':\n      return scope[model.identifier];\n  }\n}\n\nfunction unique(arr) {\n  return arr.filter((x, i, self) => self.indexOf(x) === i);\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/buildNodes.js?");

/***/ }),

/***/ "./src/defaultModel.js":
/*!*****************************!*\
  !*** ./src/defaultModel.js ***!
  \*****************************/
/*! exports provided: makeDefaultModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeDefaultModel\", function() { return makeDefaultModel; });\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./symbols.js */ \"./src/symbols.js\");\n\n\nfunction makeDefaultModel(velocity) {\n  return [\n    {\n      name: '@note',\n      child: [\n        {\n          type: 'gain',\n          gain: {\n            envelope: {\n              type: 'level',\n              level: {\n                type: 'identifier',\n                identifier: velocity\n              }\n            },\n            modulator: [],\n          },\n          child: [\n            {\n              type: 'oscillator',\n              waveType: 'square',\n              frequency: {\n                envelope: {\n                  type: 'frequency',\n                  frequency: {\n                    type: 'identifier',\n                    identifier: _symbols_js__WEBPACK_IMPORTED_MODULE_0__[\"frequency\"]\n                  }\n                },\n                modulator: []\n              },\n              delay: {\n                type: 'value',\n                value: 0\n              }\n            }\n          ],\n        }\n      ]\n    }\n  ];\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/defaultModel.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: makeDefaultModel, SynthBuilder, frequency, tempo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SynthBuilder\", function() { return SynthBuilder; });\n/* harmony import */ var _buildNodes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildNodes.js */ \"./src/buildNodes.js\");\n/* harmony import */ var _nodes_envelope_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nodes/envelope.js */ \"./src/nodes/envelope.js\");\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./symbols.js */ \"./src/symbols.js\");\n/* harmony import */ var _source2model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./source2model.js */ \"./src/source2model.js\");\n/* harmony import */ var _defaultModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultModel.js */ \"./src/defaultModel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"makeDefaultModel\", function() { return _defaultModel_js__WEBPACK_IMPORTED_MODULE_4__[\"makeDefaultModel\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"frequency\", function() { return _symbols_js__WEBPACK_IMPORTED_MODULE_2__[\"frequency\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tempo\", function() { return _symbols_js__WEBPACK_IMPORTED_MODULE_2__[\"tempo\"]; });\n\n\n\n\n\n\n\n\n\nclass SynthBuilder {\n  constructor(ac, nameMap={frequency: _symbols_js__WEBPACK_IMPORTED_MODULE_2__[\"frequency\"], tempo: _symbols_js__WEBPACK_IMPORTED_MODULE_2__[\"tempo\"]}) {\n    this.ac = ac;\n    this.nameMap = nameMap;\n  }\n\n  build(model, destination, params) {\n    destination = destination || this.ac.destination;\n    return new Synth(this.nameMap, this.ac, destination, model, params);\n  }\n\n  source2model(source) {\n    return Object(_source2model_js__WEBPACK_IMPORTED_MODULE_3__[\"source2model\"])(source, this.nameMap);\n  }\n}\n\nclass Synth {\n  constructor(nameMap, ac, destination, model, params) {\n    this.nameMap = nameMap;\n    this.ac = ac;\n    this.destination = destination;\n    this.model = model;\n    this.trackParams = mapParams(params, nameMap);\n    this.allParamNames = [...Object.keys(params), _symbols_js__WEBPACK_IMPORTED_MODULE_2__[\"frequency\"]];\n    this.notes = [];\n  }\n\n  note(noteParams) {\n    const {allNodes, criticalEnvelopes, rootNode} =\n      Object(_buildNodes_js__WEBPACK_IMPORTED_MODULE_0__[\"build\"])(this.model, this.allParamNames);\n    allNodes.forEach(n => n.activate(this.ac)); // allNodes must be sorted in order of activation.\n    rootNode.connect(this.destination);\n    noteParams = mapParams(noteParams, this.nameMap);\n    const note = new Note(this, allNodes, criticalEnvelopes, noteParams);\n    this.notes.push(note);\n    return note;\n  }\n\n  forceStop(time) {\n    this.notes.forEach(note => note.forceStop(time));\n    this.notes = [];\n  }\n\n  setTrackParam(time, params) {\n    this.trackParams = {\n      ...this.trackParams,\n      ...mapParams(params, this.nameMap)\n    };\n    this.notes.forEach(note => note._updateParam(time));\n  }\n\n  update(time) {\n    if (time === void 0) {\n      throw new Error('Synth.update is required `time` argument');\n    }\n    this.notes = this.notes.filter(note => time <= note.endTime);\n  }\n}\n\nclass Note {\n  constructor(synth, allNodes, criticalEnvelopes, noteParams) {\n    this.synth = synth;\n    this.allNodes = allNodes;\n    this.criticalEnvelopes = criticalEnvelopes;\n    this.noteParams = noteParams;\n    this.endTime = Infinity;\n  }\n\n  on(time) {\n    const params = {\n      ...this.synth.trackParams,\n      ...this.noteParams\n    };\n    this.allNodes.forEach(node => node.start(time, params));\n  }\n\n  off(time) {\n    const params = {\n      ...this.synth.trackParams,\n      ...this.noteParams\n    };\n    this.allNodes.forEach(node => node.stop(time, params));\n\n    if (this.criticalEnvelopes.length > 0) {\n      this.endTime = Math.min(\n        this.endTime,\n        Math.max(...this.criticalEnvelopes.map(env => env.endTime)));\n    } else {\n      this.endTime = Math.min(this.endTime, time);\n    }\n\n    this.allNodes.forEach(node => node.forceStop(this.endTime));\n  }\n\n  forceStop(time) {\n    this.allNodes.forEach(node => node.forceStop(time));\n    this.endTime = time;\n  }\n\n  _updateParam(time) {\n    const params = {\n      ...this.synth.trackParams,\n      ...this.noteParams,\n    };\n    this.allNodes.forEach(node => node.updateParam(time, params));\n  }\n\n  frequency(time, start, endTime, end) {\n    const params = {\n      ...this.synth.trackParams,\n      ...this.noteParams,\n    };\n    this.allNodes.forEach(node => {\n      if (node instanceof _nodes_envelope_js__WEBPACK_IMPORTED_MODULE_1__[\"FrequencyEnvelope\"]) {\n        node.frequency(start, time, end, endTime, params);\n      }\n    });\n  }\n}\n\nfunction mapParams(params, map) {\n  const newParams = {...params};\n  for (const key in params) {\n    if (key in map) {\n      newParams[map[key]] = params[key];\n      delete newParams[key];\n    }\n  }\n  return newParams;\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/index.js?");

/***/ }),

/***/ "./src/nodes/audioParamSet.js":
/*!************************************!*\
  !*** ./src/nodes/audioParamSet.js ***!
  \************************************/
/*! exports provided: AudioParamSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AudioParamSet\", function() { return AudioParamSet; });\nclass AudioParamSet {\n  constructor() {\n    this.audioParams = [];\n  }\n\n  setValueAtTime(value, time) {\n    this.audioParams.forEach(x => x.setValueAtTime(value, time));\n  }\n\n  exponentialRampToValueAtTime(value, time) {\n    this.audioParams.forEach(x => x.exponentialRampToValueAtTime(value, time));\n  }\n\n  cancelScheduledValues(time) {\n    this.audioParams.forEach(x => x.cancelScheduledValues(time));\n  }\n\n  add(audioParam) {\n    this.audioParams.push(audioParam);\n  }\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/audioParamSet.js?");

/***/ }),

/***/ "./src/nodes/constant.js":
/*!*******************************!*\
  !*** ./src/nodes/constant.js ***!
  \*******************************/
/*! exports provided: TIME_EPS, GAIN_EPS, FREQUENCY_EPS, SCHEDULER_VALUE_EPS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TIME_EPS\", function() { return TIME_EPS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GAIN_EPS\", function() { return GAIN_EPS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FREQUENCY_EPS\", function() { return FREQUENCY_EPS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SCHEDULER_VALUE_EPS\", function() { return SCHEDULER_VALUE_EPS; });\nconst TIME_EPS = 0.0000001;\nconst GAIN_EPS = 0.0001;\nconst FREQUENCY_EPS = 0.0000001;\nconst SCHEDULER_VALUE_EPS = FREQUENCY_EPS;\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/constant.js?");

/***/ }),

/***/ "./src/nodes/envelope.js":
/*!*******************************!*\
  !*** ./src/nodes/envelope.js ***!
  \*******************************/
/*! exports provided: Envelope, FrequencyEnvelope, LevelEnvelope, AdsrEnvelope, ParcEnvelope */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Envelope\", function() { return Envelope; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FrequencyEnvelope\", function() { return FrequencyEnvelope; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LevelEnvelope\", function() { return LevelEnvelope; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AdsrEnvelope\", function() { return AdsrEnvelope; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ParcEnvelope\", function() { return ParcEnvelope; });\n/* harmony import */ var _node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node.js */ \"./src/nodes/node.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./src/nodes/util.js\");\n/* harmony import */ var _audioParamSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./audioParamSet.js */ \"./src/nodes/audioParamSet.js\");\n/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scheduler.js */ \"./src/nodes/scheduler.js\");\n/* harmony import */ var _constant_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constant.js */ \"./src/nodes/constant.js\");\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../symbols.js */ \"./src/symbols.js\");\n\n\n\n\n\n\n\n\nclass Envelope extends _node_js__WEBPACK_IMPORTED_MODULE_0__[\"Node\"] {\n  constructor() {\n    super();\n    this.audioParamSet = new _audioParamSet_js__WEBPACK_IMPORTED_MODULE_2__[\"AudioParamSet\"]();\n    this._endTime = Infinity;\n  }\n\n  stop(time, note) {\n    this._endTime = time;\n  }\n\n  setValueAtTime(value, time) {\n    this.audioParamSet.setValueAtTime(value, time);\n  }\n\n  exponentialRampToValueAtTime(value, time) {\n    this.audioParamSet.exponentialRampToValueAtTime(value, time);\n  }\n\n  cancelScheduledValues(time) {\n    this.audioParamSet.cancelScheduledValues(time);\n  }\n\n  connect(audioParam) {\n    this.audioParamSet.add(audioParam);\n  }\n\n  get endTime() {\n    return this._endTime;\n  }\n\n  collectNodes() {\n    return [this];\n  }\n\n  collectCriticalEnvelopes() {\n    throw new Error('Here is unreachable');\n    return [this];\n  }\n}\n\nclass FrequencyEnvelope extends Envelope {\n  constructor(frequencyExpr) {\n    super();\n    this.scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.audioParamSet);\n    this.frequencyExpr = frequencyExpr;\n  }\n\n  start(time, params) {\n    this.scheduler.setValueAtTime(Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.frequencyExpr, params), time, params[_symbols_js__WEBPACK_IMPORTED_MODULE_5__[\"tempo\"]]);\n  }\n\n  updateParam(time, params) {\n    this.scheduler.setTempo(params[_symbols_js__WEBPACK_IMPORTED_MODULE_5__[\"tempo\"]], time);\n  }\n\n  frequency(start, time, end, endTime, params) {\n    this.scheduler.setValueAtTime(Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.frequencyExpr, {\n      ...params,\n      [_symbols_js__WEBPACK_IMPORTED_MODULE_5__[\"frequency\"]]: start\n    }), time, params[_symbols_js__WEBPACK_IMPORTED_MODULE_5__[\"tempo\"]]);\n    let endFrequency = Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.frequencyExpr, {\n      ...params,\n      [_symbols_js__WEBPACK_IMPORTED_MODULE_5__[\"frequency\"]]: end\n    });\n    if (endFrequency < 0) {\n      endFrequency = Math.min(-_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"FREQUENCY_EPS\"], endFrequency);\n    } else {\n      endFrequency = Math.max(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"FREQUENCY_EPS\"], endFrequency);\n    }\n    this.scheduler.exponentialRampToValueAtTime(endFrequency, endTime, params[_symbols_js__WEBPACK_IMPORTED_MODULE_5__[\"tempo\"]]);\n  }\n}\n\nclass LevelEnvelope extends Envelope {\n  constructor(levelExpr) {\n    super();\n    this.levelExpr = levelExpr;\n  }\n\n  start(time, params) {\n    this.setValueAtTime(Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.levelExpr, params), time);\n  }\n\n  updateParam(time, params) {\n    this.setValueAtTime(Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.levelExpr, params), time);\n  }\n}\n\nclass AdsrEnvelope extends Envelope {\n  constructor(levelExpr, attackExpr, decayExpr, sustainExpr, releaseExpr) {\n    super();\n    this.levelExpr = levelExpr;\n    this.attackExpr = attackExpr;\n    this.decayExpr = decayExpr;\n    this.sustainExpr = sustainExpr;\n    this.releaseExpr = releaseExpr;\n    this.startTime = null;\n  }\n\n  start(time, params) {\n    this.startTime = time;\n    this.level = Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.levelExpr, params);\n    this.attack = clamp(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"TIME_EPS\"], Infinity, Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.attackExpr, params) * 0.001);\n    this.decay = clamp(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"TIME_EPS\"], Infinity, Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.decayExpr, params) * 0.001);\n    this.sustain = clamp(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"], 1, Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.sustainExpr, params));\n    this.release = clamp(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"TIME_EPS\"], Infinity, Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.releaseExpr, params) * 0.001);\n\n    this.setValueAtTime(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"], time);\n    this.exponentialRampToValueAtTime(this.level, time + this.attack);\n    this.exponentialRampToValueAtTime(this.level * this.sustain, time + this.attack + this.decay);\n  }\n\n  stop(time, params) {\n    this._endTime = time + this.release;\n\n    this.cancelScheduledValues(time);\n    if (time <= this.startTime + this.attack) {\n      const v = this.level * Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"interpolateExponentialRamp\"])(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"], 1, (time - this.startTime) / this.attack);\n      this.exponentialRampToValueAtTime(v, time);\n    } else if (time < this.startTime + this.attack + this.decay) {\n      const v = this.level * Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"interpolateExponentialRamp\"])(1, this.sustain, (time - this.startTime - this.attack) / this.decay);\n      this.exponentialRampToValueAtTime(v, time);\n    } else {\n      this.setValueAtTime(this.level * this.sustain, time);\n    }\n    this.exponentialRampToValueAtTime(0 < this.level ? _constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"] : -_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"], this._endTime);\n  }\n\n  // setParam(...)\n}\n\nclass ParcEnvelope extends Envelope {\n  constructor(levelExpr, attackExpr, releaseExpr) {\n    super();\n    this.levelExpr = levelExpr;\n    this.attackExpr = attackExpr;\n    this.releaseExpr = releaseExpr;\n  }\n\n  start(time, params) {\n    this.level = Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.levelExpr, params);\n    this.attack = clamp(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"TIME_EPS\"], Infinity, Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.attackExpr, params) * 0.001);\n    this.release = clamp(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"TIME_EPS\"], Infinity, Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"evalExpr\"])(this.releaseExpr, params) * 0.001);\n\n    this.setValueAtTime(_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"], time);\n    this.exponentialRampToValueAtTime(this.level, time + this.attack);\n\n    this.exponentialRampToValueAtTime(0 < this.level ? _constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"] : -_constant_js__WEBPACK_IMPORTED_MODULE_4__[\"GAIN_EPS\"], time + this.attack + this.release);\n    this._endTime = time + this.attack + this.release;\n  }\n\n  stop(time, note) {\n  }\n}\n\n\nfunction clamp(min, max, val) {\n  return Math.max(min, Math.min(max, val));\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/envelope.js?");

/***/ }),

/***/ "./src/nodes/filter.js":
/*!*****************************!*\
  !*** ./src/nodes/filter.js ***!
  \*****************************/
/*! exports provided: Filter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Filter\", function() { return Filter; });\n/* harmony import */ var _node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node.js */ \"./src/nodes/node.js\");\n\n\nclass Filter extends _node_js__WEBPACK_IMPORTED_MODULE_0__[\"Node\"] {\n  constructor(filterType, freqCtrl, gainCtrl, QCtrl, child) {\n    super();\n    this.filterType = filterType;\n    this.freqCtrl = freqCtrl;\n    this.gainCtrl = gainCtrl;\n    this.QCtrl = QCtrl;\n    this.child = child;\n  }\n\n  activate(ac) {\n    this.filter = ac.createBiquadFilter();\n    this.filter.type = this.filterType;\n    if (this.freqCtrl) {\n      this.freqCtrl.envelope.connect(this.filter.frequency);\n      this.freqCtrl.modulator.connect(this.filter.frequency);\n    }\n    if (this.QCtrl) {\n      this.QCtrl.envelope.connect(this.filter.Q);\n      this.QCtrl.modulator.connect(this.filter.Q);\n    }\n    if (this.gainCtrl) {\n      this.gainCtrl.envelope.connect(this.filter.gain);\n      this.gainCtrl.modulator.connect(this.filter.gain);\n    }\n    this.rawNodes.forEach(rn => this.child.connect(rn));\n  }\n\n  get rawNodes() {\n    return [this.filter];\n  }\n\n  collectNodes() {\n    const nodes = [\n      ...this.child.collectNodes()\n    ];\n    if (this.freqCtrl) {\n      nodes.push(\n        ...this.freqCtrl.envelope.collectNodes(),\n        ...this.freqCtrl.modulator.collectNodes());\n    }\n    if (this.QCtrl) {\n      nodes.push(\n        ...this.QCtrl.envelope.collectNodes(),\n        ...this.QCtrl.modulator.collectNodes());\n    }\n    if (this.gainCtrl) {\n      nodes.push(\n        ...this.gainCtrl.envelope.collectNodes(),\n        ...this.gainCtrl.modulator.collectNodes());\n    }\n    nodes.push(this);\n    return nodes;\n  }\n\n  collectCriticalEnvelopes() {\n    return this.child.collectCriticalEnvelopes();\n  }\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/filter.js?");

/***/ }),

/***/ "./src/nodes/index.js":
/*!****************************!*\
  !*** ./src/nodes/index.js ***!
  \****************************/
/*! exports provided: Node, SimpleOscillator, Gain, NodeSet, Envelope, FrequencyEnvelope, LevelEnvelope, AdsrEnvelope, ParcEnvelope, Filter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node.js */ \"./src/nodes/node.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Node\", function() { return _node_js__WEBPACK_IMPORTED_MODULE_0__[\"Node\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SimpleOscillator\", function() { return _node_js__WEBPACK_IMPORTED_MODULE_0__[\"SimpleOscillator\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Gain\", function() { return _node_js__WEBPACK_IMPORTED_MODULE_0__[\"Gain\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NodeSet\", function() { return _node_js__WEBPACK_IMPORTED_MODULE_0__[\"NodeSet\"]; });\n\n/* harmony import */ var _envelope_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./envelope.js */ \"./src/nodes/envelope.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Envelope\", function() { return _envelope_js__WEBPACK_IMPORTED_MODULE_1__[\"Envelope\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FrequencyEnvelope\", function() { return _envelope_js__WEBPACK_IMPORTED_MODULE_1__[\"FrequencyEnvelope\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LevelEnvelope\", function() { return _envelope_js__WEBPACK_IMPORTED_MODULE_1__[\"LevelEnvelope\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AdsrEnvelope\", function() { return _envelope_js__WEBPACK_IMPORTED_MODULE_1__[\"AdsrEnvelope\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ParcEnvelope\", function() { return _envelope_js__WEBPACK_IMPORTED_MODULE_1__[\"ParcEnvelope\"]; });\n\n/* harmony import */ var _filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter.js */ \"./src/nodes/filter.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Filter\", function() { return _filter_js__WEBPACK_IMPORTED_MODULE_2__[\"Filter\"]; });\n\n\n\n\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/index.js?");

/***/ }),

/***/ "./src/nodes/node.js":
/*!***************************!*\
  !*** ./src/nodes/node.js ***!
  \***************************/
/*! exports provided: Node, SimpleOscillator, Gain, NodeSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Node\", function() { return Node; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SimpleOscillator\", function() { return SimpleOscillator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Gain\", function() { return Gain; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NodeSet\", function() { return NodeSet; });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./src/nodes/util.js\");\n\n\nclass Node {\n  activate(ac) {\n  }\n\n  start(time, params) {\n  }\n\n  stop(time, params) {\n  }\n\n  forceStop(time) {\n  }\n\n  updateParam(time, params) {\n  }\n\n  connect(rawNode) {\n    this.rawNodes.forEach(cf => cf.connect(rawNode));\n  }\n\n  get rawNodes() {\n    return [];\n  }\n\n  collectNodes() {\n    throw new Error('Not implemented');\n  }\n\n  collectCriticalEnvelopes() {\n    throw new Error('Not implemented');\n  }\n}\n\nclass SimpleOscillator extends Node {\n  constructor(type, frequencyCtrl, delayExpr) {\n    super();\n    this.type = type;\n    this.frequencyCtrl = frequencyCtrl;\n    this.delayExpr = delayExpr;\n  }\n\n  activate(ac) {\n    this.osc = ac.createOscillator();\n    this.osc.type = this.type;\n    this.frequencyCtrl.envelope.connect(this.osc.frequency);\n    this.frequencyCtrl.modulator.connect(this.osc.frequency);\n  }\n\n  start(time, params) {\n    const delay = this.delayExpr ? Object(_util_js__WEBPACK_IMPORTED_MODULE_0__[\"evalExpr\"])(this.delayExpr, params) : 0;\n    this.osc.start(time + delay);\n  }\n\n  forceStop(time) {\n    this.osc.stop(time);\n  }\n\n  get rawNodes() {\n    return [this.osc];\n  }\n\n  collectNodes() {\n    return [\n      ...this.frequencyCtrl.envelope.collectNodes(),\n      ...this.frequencyCtrl.modulator.collectNodes(),\n      this,\n    ];\n  }\n\n  collectCriticalEnvelopes() {\n    return [];\n  }\n}\n\nclass Gain extends Node {\n  constructor(gainCtrl, child) {\n    super();\n    this.gainCtrl = gainCtrl;\n    this.child = child;\n  }\n\n  activate(ac) {\n    this.gain = ac.createGain();\n    this.gainCtrl.envelope.connect(this.gain.gain);\n    this.gainCtrl.modulator.connect(this.gain.gain);\n    this.rawNodes.forEach(rn => this.child.connect(rn));\n  }\n\n  get rawNodes() {\n    return [this.gain];\n  }\n\n  collectNodes() {\n    return [\n      ...this.child.collectNodes(),\n      ...this.gainCtrl.envelope.collectNodes(),\n      ...this.gainCtrl.modulator.collectNodes(),\n      this,\n    ];\n  }\n\n  collectCriticalEnvelopes() {\n    return [this.gainCtrl.envelope];\n  }\n}\n\nclass NodeSet extends Node {\n  constructor(nodes) {\n    super();\n    this.nodes = nodes;\n  }\n\n  activate(ac) {\n  }\n\n  get rawNodes() {\n    return [].concat(...this.nodes.map(n => n.rawNodes));\n  }\n\n  collectNodes() {\n    return [].concat(...this.nodes.map(n => n.collectNodes()));\n  }\n\n  collectCriticalEnvelopes() {\n    return [].concat(...this.nodes.map(n => n.collectCriticalEnvelopes()));\n  }\n}\n\n/*\nexport class Mixer {\n  constructor(ac) {\n    this.gain = ac.createGain();\n    this.panner = ac.createStereoPanner();\n    this.gain.connect(this.panner);\n  }\n\n  setParam(param, time, note) {\n    for (const [key, value] of Object.entries(param)) {\n      switch (key) {\n        case 'volume':\n          this.gain.gain.setValueAtTime(volumeToGainValue(value), time);\n          break;\n        case 'pan':\n          this.panner.pan.setValueAtTime(value * 2 - 1, time);\n          break;\n      }\n    }\n  }\n\n  getInput() {\n    return this.gain;\n  }\n\n  connect(audioNode) {\n    this.panner.connect(audioNode);\n  }\n}*/\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/node.js?");

/***/ }),

/***/ "./src/nodes/scheduler.js":
/*!********************************!*\
  !*** ./src/nodes/scheduler.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Scheduler; });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./src/nodes/util.js\");\n/* harmony import */ var _constant_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constant.js */ \"./src/nodes/constant.js\");\n\n\n\n\nclass Scheduler {\n  constructor(audioParam, tempo) {\n    this.audioParam = audioParam;\n    this.points = [];\n  }\n\n  insertPoint(point) {\n    let i = 0;\n    while (i < this.points.length && this.points[i].time < point.time) {\n      i++;\n    }\n    this.points.splice(i, 0, point);\n  }\n\n  setValueAtTime(value, time, tempo) {\n    this.audioParam.setValueAtTime(value, time);\n    this.insertPoint({\n      type: 'setValue',\n      time,\n      value,\n      tempo\n    });\n  }\n\n  linearRampToValueAtTime(value, time, tempo) {\n    this.audioParam.linearRampToValueAtTime(value, time);\n    this.insertPoint({\n      type: 'linearRampToValue',\n      time,\n      value,\n      tempo\n    });\n  }\n\n  exponentialRampToValueAtTime(value, time, tempo) {\n    if (value > 0) {\n      value = Math.max(_constant_js__WEBPACK_IMPORTED_MODULE_1__[\"SCHEDULER_VALUE_EPS\"], value);\n    } else {\n      value = Math.min(-_constant_js__WEBPACK_IMPORTED_MODULE_1__[\"SCHEDULER_VALUE_EPS\"], value);\n    }\n    this.audioParam.exponentialRampToValueAtTime(value, time);\n    this.insertPoint({\n      type: 'exponentialRampToValue',\n      time,\n      value,\n      tempo\n    });\n  }\n\n  setTempo(tempo, time) {\n    // getCurrentTempo\n    let currentTempo = null;\n    this.points.forEach(point => {\n      if (point.time <= time) {\n        currentTempo = point.tempo;\n      }\n    });\n\n    if (tempo === currentTempo) {\n      return;\n    }\n\n    if (currentTempo === null) {\n      throw new Error('currentTempo is null');\n    }\n\n    let i = 0;\n    while (i < this.points.length && this.points[i].time < time) {\n      i++;\n    }\n\n    if (this.points.length === i) {\n      return;\n    }\n\n    const rate = currentTempo / tempo;\n\n    this.audioParam.cancelScheduledValues(time);\n\n    const midValue = this.valueAt(time);\n    if (this.points[i-1].value !== midValue) {\n      this.insertPoint({\n        type: this.points[i].type,\n        time,\n        value: midValue,\n        tempo\n      });\n    }\n\n    for (; i < this.points.length; ++i) {\n      const point = this.points[i];\n      point.time = (point.time - time) * rate + time;\n      point.tempo = tempo;\n      this.audioParam[point.type + 'AtTime'](point.value, point.time);\n    }\n  }\n\n  valueAt(time) {\n    let i = 0;\n    while (i < this.points.length && this.points[i].time < time) {\n      i++;\n    }\n\n    if (this.points.length === i) {\n      return this.points[i - 1].value;\n    }\n\n    const left = this.points[i-1];\n    const right = this.points[i];\n    let value;\n    switch (right.type) {\n      case 'linearRampToValue':\n        value = (right.value - left.value) * (time - left.time) / (right.time - left.time) + left.value;\n        break;\n      case 'exponentialRampToValue':\n        value = Object(_util_js__WEBPACK_IMPORTED_MODULE_0__[\"interpolateExponentialRamp\"])(left.value, right.value, (time - left.time) / (right.time - left.time)); // FIXME: minus to plus is illegal\n        if (value >= 0) {\n          value = Math.max(_constant_js__WEBPACK_IMPORTED_MODULE_1__[\"SCHEDULER_VALUE_EPS\"], value);\n        } else {\n          value = Math.min(-_constant_js__WEBPACK_IMPORTED_MODULE_1__[\"SCHEDULER_VALUE_EPS\"], value);\n        }\n        break;\n      default:\n        value = left.value;\n        break;\n    }\n    return value;\n  }\n}\n\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/scheduler.js?");

/***/ }),

/***/ "./src/nodes/util.js":
/*!***************************!*\
  !*** ./src/nodes/util.js ***!
  \***************************/
/*! exports provided: evalExpr, volumeToGainValue, interpolateExponentialRamp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evalExpr\", function() { return evalExpr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"volumeToGainValue\", function() { return volumeToGainValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interpolateExponentialRamp\", function() { return interpolateExponentialRamp; });\nfunction evalExpr(expr, params) {\n  switch (expr.type) {\n    case 'operator':\n      const args = expr.args.map(x => evalExpr(x, params));\n      switch (expr.operator) {\n        case '+':\n          if (args.length === 2) {\n            return args[0] + args[1];\n          }\n        case '-':\n          if (args.length === 1) {\n            return -args[0];\n          } else if (args.length === 2) {\n            return args[0] - args[1];\n          }\n        case '*':\n          if (args.length === 2) {\n            return args[0] * args[1];\n          }\n        case '/':\n          if (args.length === 2) {\n            return args[0] / args[1];\n          }\n      }\n      break;\n    case 'parameter':\n      return params[expr.name];\n    case 'value':\n      return expr.value;\n  }\n}\n\nfunction volumeToGainValue(v) {\n  if (v <= 0) {\n    return 0;\n  }\n  return dbToGainValue(-(1 - v) * 3 * 16);\n}\n\nfunction dbToGainValue(v) {\n  return Math.exp(v * Math.LN10 / 20);\n}\n\nfunction interpolateExponentialRamp(y1, y2, x) {\n  return Math.exp(Math.log(y1) * (1 - x) + Math.log(y2) * x);\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/nodes/util.js?");

/***/ }),

/***/ "./src/parser.sg":
/*!***********************!*\
  !*** ./src/parser.sg ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = (function() {\n\t\"use strict\";\n\t/*\n\t * Generated by snake parser 0.2.5\n\t */\n\tfunction $parse($input, options) {\n\t\toptions = options || {};\n\t\tvar $inputLength = $input.length;\n\t\tvar $pos = 0;\n\t\tvar $objs = [];\n\t\tvar $objsLen = 0;\n\t\tvar $memo = [];\n\t\tvar $matchTable = new Array($inputLength);\n\t\tvar $failMatchs = [];\n\t\tvar $failPos = 0;\n\t\tvar $failureObj = {};\n\t\tvar $undet = new Array($inputLength);\n\n\n\t\tfunction func$0($) {$.arguments = [$.left, $.right]; return $;}\n\n\t\tfunction func$1($) { return parseInt($); }\n\n\t\tfunction func$2($) { return parseFloat($); }\n\n\t\tfunction rule$start() {\n\t\t\tvar pos0 = $pos, objsLen0 = $objsLen;\n\t\t\trule$_();\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar objsLen1 = $objsLen;\n\t\t\t\tvar pos1 = $pos;\n\t\t\t\trule$expIdentifier();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t$objs[objsLen1 + 1] = \"identifier\";\n\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\trule$_();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tif ($input.charCodeAt($pos) === 61) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"\\\"=\\\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tvar objsLen2 = $objsLen;\n\t\t\t\t\t\t\t\trule$operator1();\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tif ($objsLen === objsLen2)\n\t\t\t\t\t\t\t\t\t\t$objs[objsLen2] = undefined;\n\t\t\t\t\t\t\t\t\t$objs[objsLen2 + 1] = \"expression\";\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen2 + 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"assignment\";\n\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar obj1 = {};\n\t\t\t\t\tfor (var i = objsLen1; i < $objsLen; i += 2)\n\t\t\t\t\t\tobj1[$objs[i + 1]] = $objs[i];\n\t\t\t\t\t$objsLen = objsLen1 + 1;\n\t\t\t\t\t$objs[objsLen1] = obj1;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar pos2 = $pos, objsLen2 = $objsLen;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\trule$_();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 44) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"\\\",\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tvar objsLen3 = $objsLen;\n\t\t\t\t\t\t\t\t\trule$expIdentifier();\n\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\tif ($objsLen === objsLen3)\n\t\t\t\t\t\t\t\t\t\t\t$objs[objsLen3] = undefined;\n\t\t\t\t\t\t\t\t\t\t$objs[objsLen3 + 1] = \"identifier\";\n\t\t\t\t\t\t\t\t\t\t$objsLen = objsLen3 + 2;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 61) {\n\t\t\t\t\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$matchingFail(\"\\\"=\\\"\");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar objsLen4 = $objsLen;\n\t\t\t\t\t\t\t\t\t\t\t\t\trule$operator1();\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ($objsLen === objsLen4)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$objs[objsLen4] = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$objs[objsLen4 + 1] = \"expression\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$objsLen = objsLen4 + 2;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"assignment\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\tvar obj1 = {};\n\t\t\t\t\t\t\t\t\t\tfor (var i = objsLen3; i < $objsLen; i += 2)\n\t\t\t\t\t\t\t\t\t\t\tobj1[$objs[i + 1]] = $objs[i];\n\t\t\t\t\t\t\t\t\t\t$objsLen = objsLen3 + 1;\n\t\t\t\t\t\t\t\t\t\t$objs[objsLen3] = obj1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($pos === pos2) {\n\t\t\t\t\t\t\t\tthrow new Error(\"Infinite loop detected.\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpos2 = $pos;\n\t\t\t\t\t\t\tobjsLen2 = $objsLen;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$pos = pos2;\n\t\t\t\t\t$objsLen = objsLen2;\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tvar pos2 = $pos, objsLen2 = $objsLen;\n\t\t\t\t\t\trule$_();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 44) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"\\\",\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t\t$pos = pos2;\n\t\t\t\t\t\t\t$objsLen = objsLen2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t$objs[objsLen1] = $objs.slice(objsLen1, $objsLen);\n\t\t\t\t\t$objsLen = objsLen1 + 1;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t$objs[objsLen1 + 1] = \"assignments\";\n\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\trule$_();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tvar objsLen1 = $objsLen;\n\t\t\t\t\t\trule$operator1();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t\t\t$objs[objsLen1 + 1] = \"body\";\n\t\t\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t$objs[$objsLen++] = \"synth\";\n\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar obj0 = {};\n\t\t\t\tfor (var i = objsLen0; i < $objsLen; i += 2)\n\t\t\t\t\tobj0[$objs[i + 1]] = $objs[i];\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t\t$objs[objsLen0] = obj0;\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$operator1() {\n\t\t\tvar key = $pos * 11 + 0;\n\t\t\tif ($readMemo(key)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$objs.length = $objsLen;\n\t\t\tvar pos0 = $pos, objs0 = $objs, rpos = -1;\n\t\t\t$undet[pos0] = ($undet[pos0] || 0) + 1;\n\t\t\t$memo[key] = $failureObj;\n\t\t\twhile (true) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objs = [];\n\t\t\t\t$objsLen = 0;\n\t\t\t\trule$operator1();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tif ($objsLen === 0)\n\t\t\t\t\t\t$objs[0] = undefined;\n\t\t\t\t\t$objs[0 + 1] = \"left\";\n\t\t\t\t\t$objsLen = 0 + 2;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\trule$_();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tvar objsLen0 = $objsLen;\n\t\t\t\t\t\tvar pos1 = $pos;\n\t\t\t\t\t\tif ($input.charCodeAt($pos) === 43) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"\\\"+\\\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 45) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"\\\"-\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t$objs[$objsLen++] = $input.substring(pos1, $pos);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t\t\t$objs[objsLen0 + 1] = \"func\";\n\t\t\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tvar objsLen0 = $objsLen;\n\t\t\t\t\t\t\t\trule$operator2();\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t\t\t\t\t$objs[objsLen0 + 1] = \"right\";\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"call\";\n\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar obj0 = {};\n\t\t\t\t\tfor (var i = 0; i < $objsLen; i += 2)\n\t\t\t\t\t\tobj0[$objs[i + 1]] = $objs[i];\n\t\t\t\t\t$objsLen = 0 + 1;\n\t\t\t\t\t$objs[0] = obj0;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t$objs[0] = func$0($objs[0]);\n\t\t\t\t\t$objsLen = 0 + 1;\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos0;\n\t\t\t\t\t$objsLen = 0;\n\t\t\t\t\trule$operator2();\n\t\t\t\t}\n\t\t\t\tif ($pos === -1 || $pos <= rpos) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\trpos = $pos;\n\t\t\t\t$objs.length = $objsLen;\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs);\n\t\t\t}\n\t\t\t$objs = objs0;\n\t\t\t$objsLen = $objs.length;\n\t\t\t$readMemo(key);\n\t\t\tif (--$undet[pos0]) {\n\t\t\t\tdelete $memo[key];\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$operator2() {\n\t\t\tvar key = $pos * 11 + 1;\n\t\t\tif ($readMemo(key)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$objs.length = $objsLen;\n\t\t\tvar pos0 = $pos, objs0 = $objs, rpos = -1;\n\t\t\t$undet[pos0] = ($undet[pos0] || 0) + 1;\n\t\t\t$memo[key] = $failureObj;\n\t\t\twhile (true) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objs = [];\n\t\t\t\t$objsLen = 0;\n\t\t\t\trule$operator2();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tif ($objsLen === 0)\n\t\t\t\t\t\t$objs[0] = undefined;\n\t\t\t\t\t$objs[0 + 1] = \"left\";\n\t\t\t\t\t$objsLen = 0 + 2;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\trule$_();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tvar objsLen0 = $objsLen;\n\t\t\t\t\t\tvar pos1 = $pos;\n\t\t\t\t\t\tif ($input.charCodeAt($pos) === 42) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"\\\"*\\\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 47) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"\\\"/\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t$objs[$objsLen++] = $input.substring(pos1, $pos);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t\t\t$objs[objsLen0 + 1] = \"func\";\n\t\t\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tvar objsLen0 = $objsLen;\n\t\t\t\t\t\t\t\trule$operator3();\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t\t\t\t\t$objs[objsLen0 + 1] = \"right\";\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"call\";\n\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar obj0 = {};\n\t\t\t\t\tfor (var i = 0; i < $objsLen; i += 2)\n\t\t\t\t\t\tobj0[$objs[i + 1]] = $objs[i];\n\t\t\t\t\t$objsLen = 0 + 1;\n\t\t\t\t\t$objs[0] = obj0;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t$objs[0] = func$0($objs[0]);\n\t\t\t\t\t$objsLen = 0 + 1;\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos0;\n\t\t\t\t\t$objsLen = 0;\n\t\t\t\t\trule$operator3();\n\t\t\t\t}\n\t\t\t\tif ($pos === -1 || $pos <= rpos) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\trpos = $pos;\n\t\t\t\t$objs.length = $objsLen;\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs);\n\t\t\t}\n\t\t\t$objs = objs0;\n\t\t\t$objsLen = $objs.length;\n\t\t\t$readMemo(key);\n\t\t\tif (--$undet[pos0]) {\n\t\t\t\tdelete $memo[key];\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$operator3() {\n\t\t\tvar key = $pos * 11 + 2, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ($input.charCodeAt($pos) === 45) {\n\t\t\t\t$pos += 1;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"\\\"-\\\"\");\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[$objsLen++] = \"-\";\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t$objs[objsLen0 + 1] = \"func\";\n\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\trule$_();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar objsLen1 = $objsLen;\n\t\t\t\t\trule$operator3();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t$objs[objsLen1] = $objs.slice(objsLen1, $objsLen);\n\t\t\t\t\t\t$objsLen = objsLen1 + 1;\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t\t$objs[objsLen1 + 1] = \"arguments\";\n\t\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t$objs[$objsLen++] = \"call\";\n\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar obj0 = {};\n\t\t\t\tfor (var i = objsLen0; i < $objsLen; i += 2)\n\t\t\t\t\tobj0[$objs[i + 1]] = $objs[i];\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t\t$objs[objsLen0] = obj0;\n\t\t\t}\n\t\t\tif ($pos === -1) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objsLen = objsLen0;\n\t\t\t\trule$operator4();\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$operator4() {\n\t\t\tvar key = $pos * 11 + 3, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trule$operator5();\n\t\t\tif ($pos !== -1) {\n\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t$objs[objsLen0 + 1] = \"left\";\n\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\trule$_();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar objsLen1 = $objsLen;\n\t\t\t\t\tvar pos1 = $pos;\n\t\t\t\t\tif ($input.substr($pos, 2) === \"<-\") {\n\t\t\t\t\t\t$pos += 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"\\\"<-\\\"\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t$objs[$objsLen++] = $input.substring(pos1, $pos);\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t\t$objs[objsLen1 + 1] = \"func\";\n\t\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\trule$_();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tvar objsLen1 = $objsLen;\n\t\t\t\t\t\t\trule$operator4();\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t\t\t\t$objs[objsLen1 + 1] = \"right\";\n\t\t\t\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"call\";\n\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar obj0 = {};\n\t\t\t\tfor (var i = objsLen0; i < $objsLen; i += 2)\n\t\t\t\t\tobj0[$objs[i + 1]] = $objs[i];\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t\t$objs[objsLen0] = obj0;\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[objsLen0] = func$0($objs[objsLen0]);\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t}\n\t\t\tif ($pos === -1) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objsLen = objsLen0;\n\t\t\t\trule$operator5();\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$operator5() {\n\t\t\tvar key = $pos * 11 + 4, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trule$factor();\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$factor() {\n\t\t\tvar key = $pos * 11 + 5, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ($input.charCodeAt($pos) === 40) {\n\t\t\t\t$pos += 1;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"\\\"(\\\"\");\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\trule$_();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\trule$operator1();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\trule$_();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 41) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"\\\")\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos === -1) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objsLen = objsLen0;\n\t\t\t\trule$expIdentifier();\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t$objs[objsLen0 + 1] = \"func\";\n\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\trule$_();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tif ($input.charCodeAt($pos) === 40) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"\\\"(\\\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tvar objsLen1 = $objsLen;\n\t\t\t\t\t\t\t\tvar pos1 = $pos;\n\t\t\t\t\t\t\t\trule$operator1();\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tvar pos2 = $pos, objsLen2 = $objsLen;\n\t\t\t\t\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 44) {\n\t\t\t\t\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$matchingFail(\"\\\",\\\"\");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\trule$operator1();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tif ($pos === pos2) {\n\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Infinite loop detected.\");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tpos2 = $pos;\n\t\t\t\t\t\t\t\t\t\t\tobjsLen2 = $objsLen;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$pos = pos2;\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t$objs[objsLen1] = $objs.slice(objsLen1, $objsLen);\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen1 + 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tif ($objsLen === objsLen1)\n\t\t\t\t\t\t\t\t\t\t$objs[objsLen1] = undefined;\n\t\t\t\t\t\t\t\t\t$objs[objsLen1 + 1] = \"arguments\";\n\t\t\t\t\t\t\t\t\t$objsLen = objsLen1 + 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 41) {\n\t\t\t\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$matchingFail(\"\\\")\\\"\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"call\";\n\t\t\t\t\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos0;\n\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\trule$expIdentifier();\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t\t$objs[objsLen0 + 1] = \"identifier\";\n\t\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t$objs[$objsLen++] = \"identifier\";\n\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t$pos = pos0;\n\t\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\t\trule$float();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tif ($objsLen === objsLen0)\n\t\t\t\t\t\t\t\t$objs[objsLen0] = undefined;\n\t\t\t\t\t\t\t$objs[objsLen0 + 1] = \"value\";\n\t\t\t\t\t\t\t$objsLen = objsLen0 + 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t$objs[$objsLen++] = \"value\";\n\t\t\t\t\t\t\t$objs[$objsLen++] = \"type\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar obj0 = {};\n\t\t\t\t\tfor (var i = objsLen0; i < $objsLen; i += 2)\n\t\t\t\t\t\tobj0[$objs[i + 1]] = $objs[i];\n\t\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t\t\t$objs[objsLen0] = obj0;\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos0;\n\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\tif ($input.charCodeAt($pos) === 40) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"\\\"(\\\"\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\trule$_();\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\trule$operator1();\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\trule$_();\n\t\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 41) {\n\t\t\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$matchingFail(\"\\\")\\\"\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$expIdentifier() {\n\t\t\tvar key = $pos * 11 + 6, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\tif (97 <= c && c <= 122) {\n\t\t\t\t$pos += 1;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"[a-z]\");\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar pos1 = $pos, objsLen1 = $objsLen;\n\t\t\t\twhile (true) {\n\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\tif (97 <= c && c <= 122 || 48 <= c && c <= 57) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"[a-z0-9]\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tpos1 = $pos;\n\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$pos = pos1;\n\t\t\t\t$objsLen = objsLen1;\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[$objsLen++] = $input.substring(pos0, $pos);\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$signedInteger() {\n\t\t\tvar pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\tif (c === 43 || c === 45) {\n\t\t\t\t$pos += 1;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"[+\\\\-]\");\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar pos1 = $pos;\n\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\tif (49 <= c && c <= 57) {\n\t\t\t\t\t$pos += 1;\n\t\t\t\t} else {\n\t\t\t\t\t$matchingFail(\"[1-9]\");\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar pos2 = $pos, objsLen1 = $objsLen;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\t\tif (48 <= c && c <= 57) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"[0-9]\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tpos2 = $pos;\n\t\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$pos = pos2;\n\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\tif ($input.charCodeAt($pos) === 48) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"\\\"0\\\"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[$objsLen++] = $input.substring(pos0, $pos);\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[objsLen0] = func$1($objs[objsLen0]);\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$unsignedInteger() {\n\t\t\tvar pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\tif (49 <= c && c <= 57) {\n\t\t\t\t$pos += 1;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"[1-9]\");\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar pos1 = $pos, objsLen1 = $objsLen;\n\t\t\t\twhile (true) {\n\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\tif (48 <= c && c <= 57) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"[0-9]\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tpos1 = $pos;\n\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$pos = pos1;\n\t\t\t\t$objsLen = objsLen1;\n\t\t\t}\n\t\t\tif ($pos === -1) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objsLen = objsLen0;\n\t\t\t\tif ($input.charCodeAt($pos) === 48) {\n\t\t\t\t\t$pos += 1;\n\t\t\t\t} else {\n\t\t\t\t\t$matchingFail(\"\\\"0\\\"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[$objsLen++] = $input.substring(pos0, $pos);\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[objsLen0] = func$1($objs[objsLen0]);\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$float() {\n\t\t\tvar key = $pos * 11 + 7, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\tif (c === 43 || c === 45) {\n\t\t\t\t$pos += 1;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"[+\\\\-]\");\n\t\t\t}\n\t\t\tif ($pos === -1) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objsLen = objsLen0;\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar pos1 = $pos;\n\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\tif (49 <= c && c <= 57) {\n\t\t\t\t\t$pos += 1;\n\t\t\t\t} else {\n\t\t\t\t\t$matchingFail(\"[1-9]\");\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar pos2 = $pos, objsLen1 = $objsLen;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\t\tif (48 <= c && c <= 57) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"[0-9]\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tpos2 = $pos;\n\t\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$pos = pos2;\n\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t}\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\tif ($input.charCodeAt($pos) === 48) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"\\\"0\\\"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar pos1 = $pos;\n\t\t\t\t\tif ($input.charCodeAt($pos) === 46) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"\\\".\\\"\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tvar pos2 = $pos, objsLen1 = $objsLen;\n\t\t\t\t\t\tfor (var i0 = 0; i0 < 16; i0++) {\n\t\t\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\t\t\tif (48 <= c && c <= 57) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"[0-9]\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tpos2 = $pos;\n\t\t\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$pos = pos2;\n\t\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[$objsLen++] = $input.substring(pos0, $pos);\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\t$objs[objsLen0] = func$2($objs[objsLen0]);\n\t\t\t\t$objsLen = objsLen0 + 1;\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$_() {\n\t\t\tvar key = $pos * 11 + 8, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar pos1 = $pos, objsLen1 = $objsLen;\n\t\t\twhile (true) {\n\t\t\t\trule$whitespace();\n\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t\trule$comment();\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tif ($pos === pos1) {\n\t\t\t\t\t\tthrow new Error(\"Infinite loop detected.\");\n\t\t\t\t\t}\n\t\t\t\t\tpos1 = $pos;\n\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$pos = pos1;\n\t\t\t$objsLen = objsLen1;\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$whitespace() {\n\t\t\tvar key = $pos * 11 + 9, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar pos1 = $pos, objsLen1 = $objsLen;\n\t\t\tfor (var i0 = 0; ; i0++) {\n\t\t\t\tif (/[ \\t\\r\\n]/.test($input.charAt($pos))) {\n\t\t\t\t\t$pos += 1;\n\t\t\t\t} else {\n\t\t\t\t\t$matchingFail(\"[ \\\\t\\\\r\\\\n]\");\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tpos1 = $pos;\n\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$pos = pos1;\n\t\t\t$objsLen = objsLen1;\n\t\t\tif (i0 < 1) {\n\t\t\t\t$pos = -1;\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction rule$comment() {\n\t\t\tvar key = $pos * 11 + 10, pos0 = $pos, objsLen0 = $objsLen;\n\t\t\tif ($readMemo(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ($input.substr($pos, 2) === \"//\") {\n\t\t\t\t$pos += 2;\n\t\t\t} else {\n\t\t\t\t$matchingFail(\"\\\"//\\\"\");\n\t\t\t}\n\t\t\tif ($pos !== -1) {\n\t\t\t\tvar pos1 = $pos, objsLen1 = $objsLen;\n\t\t\t\twhile (true) {\n\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\tif (!isNaN(c) && c !== 10) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"[^\\\\n]\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tpos1 = $pos;\n\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$pos = pos1;\n\t\t\t\t$objsLen = objsLen1;\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar pos1 = $pos;\n\t\t\t\t\tif ($input.charCodeAt($pos) === 10) {\n\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$matchingFail(\"\\\"\\\\n\\\"\");\n\t\t\t\t\t}\n\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\t\tif ($pos < $inputLength) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\".\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t\t$objsLen = objsLen0;\n\t\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$pos = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($pos === -1) {\n\t\t\t\t$pos = pos0;\n\t\t\t\t$objsLen = objsLen0;\n\t\t\t\tif ($input.substr($pos, 2) === \"/*\") {\n\t\t\t\t\t$pos += 2;\n\t\t\t\t} else {\n\t\t\t\t\t$matchingFail(\"\\\"/*\\\"\");\n\t\t\t\t}\n\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\tvar pos1 = $pos, objsLen1 = $objsLen;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\t\tif (!isNaN(c) && c !== 42) {\n\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"[^*]\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos === -1) {\n\t\t\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t\t\t\tif ($input.charCodeAt($pos) === 42) {\n\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$matchingFail(\"\\\"*\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\t\tvar c = $input.charCodeAt($pos);\n\t\t\t\t\t\t\t\tif (!isNaN(c) && c !== 47) {\n\t\t\t\t\t\t\t\t\t$pos += 1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$matchingFail(\"[^\\\\/]\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\t\tpos1 = $pos;\n\t\t\t\t\t\t\tobjsLen1 = $objsLen;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$pos = pos1;\n\t\t\t\t\t$objsLen = objsLen1;\n\t\t\t\t\tif ($pos !== -1) {\n\t\t\t\t\t\tif ($input.substr($pos, 2) === \"*/\") {\n\t\t\t\t\t\t\t$pos += 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$matchingFail(\"\\\"*/\\\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!$undet[pos0]) {\n\t\t\t\t$writeMemo(key, $pos !== -1 && $objs.slice(objsLen0, $objsLen));\n\t\t\t}\n\t\t}\n\n\t\tfunction $matchingFail(match) {\n\t\t\tif ($failPos <= $pos) {\n\t\t\t\tmatch = $matchTable[$pos] ? $matchTable[$pos] : match;\n\t\t\t\tif ($failPos === $pos) {\n\t\t\t\t\t$failMatchs.push(match);\n\t\t\t\t} else {\n\t\t\t\t\t$failMatchs.length = 0;\n\t\t\t\t\t$failMatchs[0] = match;\n\t\t\t\t\t$failPos = $pos;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$pos = -1;\n\t\t}\n\n\t\tfunction $joinWithOr(strs) {\n\t\t\tif (strs.length === 0) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\tif (strs.length === 1) {\n\t\t\t\treturn strs[0];\n\t\t\t}\n\t\t\treturn strs.slice(0, strs.length - 1).join(\", \") + \" or \" + strs[strs.length - 1];\n\t\t}\n\n\t\tfunction $readMemo(key) {\n\t\t\tvar res = $memo[key];\n\t\t\tif (res !== undefined) {\n\t\t\t\tif (res !== $failureObj) {\n\t\t\t\t\t$pos = res.pos;\n\t\t\t\t\tfor (var i = 0, il = res.objs.length; i < il; ++i) {\n\t\t\t\t\t\t$objs[$objsLen++] = res.objs[i];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$pos = -1;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction $writeMemo(key, objs) {\n\t\t\t$memo[key] = objs ? {\n\t\t\t\tpos: $pos,\n\t\t\t\tobjs: objs\n\t\t\t} : $failureObj;\n\t\t}\n\n\t\trule$start();\n\t\tif ($pos !== -1) {\n\t\t\tif ($pos === $inputLength) {\n\t\t\t\t$objs.length = $objsLen;\n\t\t\t\treturn $objs[0];\n\t\t\t}\n\t\t\t$matchingFail(\"end of input\");\n\t\t}\n\t\tif ($failMatchs.length === 0) {\n\t\t\t$failMatchs.push(\"something\");\n\t\t}\n\t\t$failMatchs = $failMatchs.filter(function (x, i, self) {\n\t\t\treturn self.indexOf(x) === i;\n\t\t});\n\t\tvar $line = ($input.slice(0, $failPos).match(/\\r\\n|\\r|\\n/g) || []).length;\n\t\tvar $column = $failPos - Math.max($input.lastIndexOf(\"\\r\", $failPos - 1), $input.lastIndexOf(\"\\n\", $failPos - 1));\n\t\tvar $errorMessage = \"Line \" + ($line + 1) + \", column \" + $column + \": Expected \" + $joinWithOr($failMatchs) + \" but \" + (JSON.stringify($input[$failPos]) || \"end of input\") + \" found.\";\n\t\tthrow new Error($errorMessage);\n\t}\n\treturn $parse;\n})();\n\n\n//# sourceURL=webpack://fcsynth/./src/parser.sg?");

/***/ }),

/***/ "./src/source2model.js":
/*!*****************************!*\
  !*** ./src/source2model.js ***!
  \*****************************/
/*! exports provided: source2model */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"source2model\", function() { return source2model; });\n/* harmony import */ var _parser_sg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parser.sg */ \"./src/parser.sg\");\n/* harmony import */ var _parser_sg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_parser_sg__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction source2model(source, nameMap) {\n  return transformSynth(_parser_sg__WEBPACK_IMPORTED_MODULE_0___default()(source), nameMap);\n}\n\nfunction transformSynth(ast, nameMap) {\n  return [\n    ...ast.assignments.map((assignment) => ({\n      name: assignment.identifier,\n      child: transform(assignment.expression, nameMap)\n    })),\n    {\n      name: '@note',\n      child: collectComposedNodes(transform(ast.body, nameMap))\n    }\n  ];\n}\n\nfunction transform(ast, nameMap) {\n  if (ast === undefined) {\n    return null;\n  }\n  switch (ast.type) {\n    case 'call':\n      switch (ast.func) {\n        case 'sin':\n        case 'sqr':\n        case 'saw':\n        case 'tri':\n          return {\n            type: 'oscillator',\n            waveType: {\n              sin: 'sine',\n              sqr: 'square',\n              saw: 'sawtooth',\n              tri: 'triangle'\n            }[ast.func],\n            frequency: transform(ast.arguments[0], nameMap),\n            delay: transform(ast.arguments[1], nameMap)\n          };\n          break;\n        case 'gain':\n          return {\n            type: 'gain',\n            gain: transform(ast.arguments[0], nameMap),\n            child: []\n          };\n        case 'lv':\n          return {\n            envelope: {\n              type: 'level',\n              level: transform(ast.arguments[0], nameMap)\n            },\n            modulator: []\n          };\n        case 'fr':\n          return {\n            envelope: {\n              type: 'frequency',\n              frequency: transform(ast.arguments[0], nameMap)\n            },\n            modulator: []\n          };\n        case 'adsr':\n          return {\n            envelope: {\n              type: 'adsrEnvelope',\n              level: transform(ast.arguments[0], nameMap),\n              attack: transform(ast.arguments[1], nameMap),\n              decay: transform(ast.arguments[2], nameMap),\n              sustain: transform(ast.arguments[3], nameMap),\n              release: transform(ast.arguments[4], nameMap)\n            },\n            modulator: []\n          };\n        case 'parc':\n          return {\n            envelope: {\n              type: 'parcEnvelope',\n              level: transform(ast.arguments[0], nameMap),\n              attack: transform(ast.arguments[1], nameMap),\n              release: transform(ast.arguments[2], nameMap)\n            },\n            modulator: []\n          };\n        case 'lpf':\n        case 'hpf':\n        case 'bpf':\n        case 'ncf':\n        case 'apf':\n          return {\n            type: 'filter',\n            filterType: {lpf: \"lowpass\", hpf: \"highpass\", bpf: \"bandpass\", ncf: \"notch\", apf: \"allpass\"}[ast.func],\n            frequency: transform(ast.arguments[0]), nameMap,\n            Q: transform(ast.arguments[1], nameMap),\n            child: []\n          };\n        case 'lsf':\n        case 'hsf':\n          return {\n            type: 'filter',\n            filterType: {lsf: \"lowshelf\", hsf: \"highshelf\"}[ast.func],\n            frequency: transform(ast.arguments[0], nameMap),\n            gain: transform(ast.arguments[1], nameMap),\n            child: []\n          };\n        case 'pkf':\n          return {\n            type: 'filter',\n            filterType: 'peaking',\n            frequency: transform(ast.arguments[0], nameMap),\n            Q: transform(ast.arguments[1], nameMap),\n            gain: transform(ast.arguments[2], nameMap),\n            child: []\n          };\n        case '+':\n        case '-':\n        case '*':\n        case '/':\n          return {\n            type: 'operator',\n            operator: ast.func,\n            args: ast.arguments.map(a => transform(a, nameMap))\n          };\n        case '<-':\n          const left = transform(ast.arguments[0], nameMap);\n          const right = transform(ast.arguments[1], nameMap);\n          if (left.child) {\n            left.child.push(...collectComposedNodes(right));\n            return left;\n          } else if (left.modulator) {\n            left.modulator.push(...collectComposedNodes(right));\n            return left;\n          } else {\n            throw new Error('invalid AST');\n          }\n      }\n      return;\n    case 'identifier':\n      return {\n        ...ast,\n        identifier: ast.identifier in nameMap ? nameMap[ast.identifier] : ast.identifier\n      };\n    case 'value':\n      return ast;\n  }\n  throw new Error('Invalid AST');\n}\n\nfunction collectComposedNodes(expr) {\n  if (expr.type === 'operator' && expr.operator === '+') {\n    return [...collectComposedNodes(expr.args[0]), ...collectComposedNodes(expr.args[1])];\n  }\n  return [expr];\n}\n\n\n//# sourceURL=webpack://fcsynth/./src/source2model.js?");

/***/ }),

/***/ "./src/symbols.js":
/*!************************!*\
  !*** ./src/symbols.js ***!
  \************************/
/*! exports provided: frequency, tempo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"frequency\", function() { return frequency; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tempo\", function() { return tempo; });\nconst frequency = Symbol('frequency');\nconst tempo = Symbol('tempo');\n\n\n//# sourceURL=webpack://fcsynth/./src/symbols.js?");

/***/ })

/******/ });
});